{"version":3,"sources":["bundle.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","window","App","sidebar","./sidebar.js","2","setSidebarState","sidebarOpen","sessionStorage","getItem","sidebarKey","openImmediately","toggleSidebar","preventDefault","toggle","getAttribute","open","close","classList","contains","setAttribute","toggleText","textContent","add","main","remove","removeAttribute","setItem","onSidebarAnimationEnd","animationEnd","whichAnimationEvent","document","getElementById","getElementsByClassName","item","addEventListener","./utils.js","3","whichTransitionEvent","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","style","animations","animation","OAnimation","MozAnimation","WebkitAnimation"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n// const throttle = require(\"./throttle-animation\");\n// throttle(\"resize\", \"optimizedResize\");\n\nwindow.App = function appInit() {\n\n  var sidebar = require(\"./sidebar.js\");\n\n  /**\n   * Public API\n   */\n  return {\n    sidebar: sidebar\n  };\n}();\n\n},{\"./sidebar.js\":2}],2:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Accessibility implementation decisions for this widget were based, in part, on the following:\n * - General rules of ARIA use: http://w3c.github.io/aria-in-html/\n * - Using default implicit ARIA semantics is preferable to adding redundant roles, etc.:\n *   https://www.w3.org/TR/html-aria/#sec-strong-native-semantics\n * - Using \"aria-expanded\" for collapsible elements:\n *   https://www.w3.org/WAI/GL/wiki/Using_aria-expanded_to_indicate_the_state_of_a_collapsible_element\n * - I studied the mobile nav menu at https://www.paciellogroup.com/\n */\n\nvar animationEnd = require(\"./utils.js\").whichAnimationEvent();\n\nvar toggle = document.getElementById(\"burger-button\");\nvar toggleText = toggle.getElementsByClassName(\"burger-button__text\").item(0);\nvar sidebar = document.getElementById(\"sidebar\");\nvar main = document.getElementById(\"main-content\");\n\nvar maintainSidebarStateOnResize = false;\nvar sidebarKey = \"flexboxgrid-sidebar-open\";\n\nfunction setSidebarState() {\n  var sidebarOpen = sessionStorage.getItem(sidebarKey);\n\n  if (sidebarOpen && sidebarOpen == \"true\") {\n    openImmediately();\n  }\n}\nsetSidebarState();\n\ntoggle.addEventListener(\"click\", toggleSidebar);\nsidebar.addEventListener(animationEnd, onSidebarAnimationEnd);\n\nfunction toggleSidebar(e) {\n  e.preventDefault();\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    open();\n  } else {\n    close();\n  }\n}\n\nfunction open() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", true);\n    toggleText.textContent = \"Hide navigation\";\n    sidebar.classList.add(\"sidebar--revealing\");\n    main.classList.remove(\"sidebar--hidden\");\n    main.classList.remove(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--revealing\");\n    sidebar.removeAttribute(\"hidden\");\n    sessionStorage.setItem(sidebarKey, true);\n  }\n}\n\nfunction openImmediately() {\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  main.classList.remove(\"sidebar--hidden\");\n  main.classList.remove(\"sidebar--hiding\");\n  main.classList.remove(\"sidebar--revealing\");\n  sidebar.removeAttribute(\"hidden\");\n  toggle.setAttribute(\"aria-expanded\", true);\n  toggleText.textContent = \"Hide navigation\";\n}\n\nfunction close() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", false);\n    toggleText.textContent = \"Show navigation\";\n    sidebar.classList.add(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--hidden\");\n    sessionStorage.setItem(sidebarKey, false);\n  }\n}\n\nfunction onSidebarAnimationEnd(e) {\n  // Using classList.remove() with multiple arguments fails in IE11,\n  // so we're removing classes separately\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  main.classList.remove(\"sidebar--hiding\");\n  main.classList.remove(\"sidebar--revealing\");\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    sidebar.setAttribute(\"hidden\", \"hidden\");\n    main.classList.add(\"sidebar--hidden\");\n    sessionStorage.setItem(sidebarKey, false);\n  }\n}\n\nmodule.exports = {\n  open: open,\n  close: close\n};\n\n},{\"./utils.js\":3}],3:[function(require,module,exports){\n\"use strict\";\n\n/**\n * CSS transition callback polyfill (borrowed from Modernizr)\n */\n\nexports.whichTransitionEvent = function () {\n  var t = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var transitions = {\n    \"transition\": \"transitionend\",\n    \"OTransition\": \"oTransitionEnd\",\n    \"MozTransition\": \"transitionend\",\n    \"WebkitTransition\": \"webkitTransitionEnd\"\n  };\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\n/**\n * CSS animation callback polyfill (borrowed from Modernizr)\n */\nexports.whichAnimationEvent = function () {\n  var a = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var animations = {\n    \"animation\": \"animationend\",\n    \"OAnimation\": \"oAnimationEnd\",\n    \"MozAnimation\": \"animationend\",\n    \"WebkitAnimation\": \"webkitAnimationEnd\"\n  };\n  for (a in animations) {\n    if (el.style[a] !== undefined) {\n      return animations[a];\n    }\n  }\n};\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2l0ZS9qYXZhc2NyaXB0cy9tYWluLmpzIiwic3JjL3NpdGUvamF2YXNjcmlwdHMvc2lkZWJhci5qcyIsInNyYy9zaXRlL2phdmFzY3JpcHRzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUE7QUFDQTs7QUFFQSxPQUFPLEdBQVAsR0FBYyxTQUFTLE9BQVQsR0FBbUI7O0FBRS9CLE1BQU0sVUFBVSxRQUFRLGNBQVIsQ0FBaEI7O0FBRUE7OztBQUdBLFNBQU87QUFDTDtBQURLLEdBQVA7QUFJRCxDQVhZLEVBQWI7OztBQ0xBOztBQUVBOzs7Ozs7Ozs7O0FBVUEsSUFBTSxlQUFlLFFBQVEsWUFBUixFQUFzQixtQkFBdEIsRUFBckI7O0FBRUEsSUFBTSxTQUFTLFNBQVMsY0FBVCxDQUF3QixlQUF4QixDQUFmO0FBQ0EsSUFBTSxhQUFhLE9BQU8sc0JBQVAsQ0FBOEIscUJBQTlCLEVBQXFELElBQXJELENBQTBELENBQTFELENBQW5CO0FBQ0EsSUFBTSxVQUFVLFNBQVMsY0FBVCxDQUF3QixTQUF4QixDQUFoQjtBQUNBLElBQU0sT0FBTyxTQUFTLGNBQVQsQ0FBd0IsY0FBeEIsQ0FBYjs7QUFFQSxJQUFJLCtCQUErQixLQUFuQztBQUNBLElBQUksYUFBYSwwQkFBakI7O0FBRUEsU0FBUyxlQUFULEdBQTJCO0FBQ3pCLE1BQUksY0FBYyxlQUFlLE9BQWYsQ0FBdUIsVUFBdkIsQ0FBbEI7O0FBRUEsTUFBSSxlQUFlLGVBQWUsTUFBbEMsRUFBMEM7QUFDeEM7QUFDRDtBQUNGO0FBQ0Q7O0FBRUEsT0FBTyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxhQUFqQztBQUNBLFFBQVEsZ0JBQVIsQ0FBeUIsWUFBekIsRUFBdUMscUJBQXZDOztBQUVBLFNBQVMsYUFBVCxDQUF1QixDQUF2QixFQUEwQjtBQUN4QixJQUFFLGNBQUY7QUFDQSxNQUFJLE9BQU8s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d0JBQW9CO0FBSkosR0FBbEI7QUFNQSxPQUFLLENBQUwsSUFBVSxXQUFWLEVBQXVCO0FBQ3JCLFFBQUksR0FBRyxLQUFILENBQVMsQ0FBVCxNQUFnQixTQUFwQixFQUErQjtBQUM3QixhQUFPLFlBQVksQ0FBWixDQUFQO0FBQ0Q7QUFDRjtBQUNGLENBZEQ7O0FBZ0JBOzs7QUFHQSxRQUFRLG1CQUFSLEdBQThCLFlBQVc7QUFDdkMsTUFBSSxVQUFKO0FBQ0EsTUFBSSxLQUFLLFNBQVMsYUFBVCxDQUF1QixhQUF2QixDQUFUO0FBQ0EsTUFBSSxhQUFhO0FBQ2YsaUJBQWEsY0FERTtBQUVmLGtCQUFjLGVBRkM7QUFHZixvQkFBZ0IsY0FIRDtBQUlmLHVCQUFtQjtBQUpKLEdBQWpCO0FBTUEsT0FBSyxDQUFMLElBQVUsVUFBVixFQUFzQjtBQUNwQixRQUFJLEdBQUcsS0FBSCxDQUFTLENBQVQsTUFBZ0IsU0FBcEIsRUFBK0I7QUFDN0IsYUFBTyxXQUFXLENBQVgsQ0FBUDtBQUNEO0FBQ0Y7QUFDRixDQWREIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBjb25zdCB0aHJvdHRsZSA9IHJlcXVpcmUoXCIuL3Rocm90dGxlLWFuaW1hdGlvblwiKTtcbi8vIHRocm90dGxlKFwicmVzaXplXCIsIFwib3B0aW1pemVkUmVzaXplXCIpO1xuXG53aW5kb3cuQXBwID0gKGZ1bmN0aW9uIGFwcEluaXQoKSB7XG5cbiAgY29uc3Qgc2lkZWJhciA9IHJlcXVpcmUoXCIuL3NpZGViYXIuanNcIik7XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBBUElcbiAgICovXG4gIHJldHVybiB7XG4gICAgc2lkZWJhclxuICB9O1xuXG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQWNjZXNzaWJpbGl0eSBpbXBsZW1lbnRhdGlvbiBkZWNpc2lvbnMgZm9yIHRoaXMgd2lkZ2V0IHdlcmUgYmFzZWQsIGluIHBhcnQsIG9uIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlbmVyYWwgcnVsZXMgb2YgQVJJQSB1c2U6IGh0dHA6Ly93M2MuZ2l0aHViLmlvL2FyaWEtaW4taHRtbC9cbiAqIC0gVXNpbmcgZGVmYXVsdCBpbXBsaWNpdCBBUklBIHNlbWFudGljcyBpcyBwcmVmZXJhYmxlIHRvIGFkZGluZyByZWR1bmRhbnQgcm9sZXMsIGV0Yy46XG4gKiAgIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFyaWEvI3NlYy1zdHJvbmctbmF0aXZlLXNlbWFudGljc1xuICogLSBVc2luZyBcImFyaWEtZXhwYW5kZWRcIiBmb3IgY29sbGFwc2libGUgZWxlbWVudHM6XG4gKiAgIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvR0wvd2lraS9Vc2luZ19hcmlhLWV4cGFuZGVkX3RvX2luZGljYXRlX3RoZV9zdGF0ZV9vZl9hX2NvbGxhcHNpYmxlX2VsZW1lbnRcbiAqIC0gSSBzdHVkaWVkIHRoZSBtb2JpbGUgbmF2IG1lbnUgYXQgaHR0cHM6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vXG4gKi9cblxuY29uc3QgYW5pbWF0aW9uRW5kID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIikud2hpY2hBbmltYXRpb25FdmVudCgpO1xuXG5jb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1cmdlci1idXR0b25cIik7XG5jb25zdCB0b2dnbGVUZXh0ID0gdG9nZ2xlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJidXJnZXItYnV0dG9uX190ZXh0XCIpLml0ZW0oMCk7XG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWRlYmFyXCIpO1xuY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbi1jb250ZW50XCIpO1xuXG5sZXQgbWFpbnRhaW5TaWRlYmFyU3RhdGVPblJlc2l6ZSA9IGZhbHNlO1xubGV0IHNpZGViYXJLZXkgPSBcImZsZXhib3hncmlkLXNpZGViYXItb3BlblwiO1xuXG5mdW5jdGlvbiBzZXRTaWRlYmFyU3RhdGUoKSB7XG4gIHZhciBzaWRlYmFyT3BlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc2lkZWJhcktleSk7XG5cbiAgaWYgKHNpZGViYXJPcGVuICYmIHNpZGViYXJPcGVuID09IFwidHJ1ZVwiKSB7XG4gICAgb3BlbkltbWVkaWF0ZWx5KCk7XG4gIH1cbn1cbnNldFNpZGViYXJTdGF0ZSgpO1xuXG50b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVNpZGViYXIpO1xuc2lkZWJhci5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZCwgb25TaWRlYmFyQW5pbWF0aW9uRW5kKTtcblxuZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgaWYgKHRvZ2dsZS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIpID09PSBcImZhbHNlXCIpIHtcbiAgICBvcGVuKCk7XG4gIH0gZWxzZSB7XG4gICAgY2xvc2UoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuKCkge1xuICBpZiAoIXNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2lkZWJhci0taGlkaW5nXCIpICYmXG4gICAgICAhc2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIikpIHtcbiAgICB0b2dnbGUuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCB0cnVlKTtcbiAgICB0b2dnbGVUZXh0LnRleHRDb250ZW50ID0gXCJIaWRlIG5hdmlnYXRpb25cIjtcbiAgICBzaWRlYmFyLmNsYXNzTGlzdC5hZGQoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIik7XG4gICAgbWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0taGlkZGVuXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIik7XG4gICAgc2lkZWJhci5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShzaWRlYmFyS2V5LCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuSW1tZWRpYXRlbHkoKSB7XG4gIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1oaWRkZW5cIik7XG4gIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgbWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICBzaWRlYmFyLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcbiAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdHJ1ZSk7XG4gIHRvZ2dsZVRleHQudGV4dENvbnRlbnQgPSBcIkhpZGUgbmF2aWdhdGlvblwiO1xufVxuXG5mdW5jdGlvbiBjbG9zZSgpIHtcbiAgaWYgKCFzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcInNpZGViYXItLWhpZGluZ1wiKSAmJlxuICAgICAgIXNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpKSB7XG4gICAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgZmFsc2UpO1xuICAgIHRvZ2dsZVRleHQudGV4dENvbnRlbnQgPSBcIlNob3cgbmF2aWdhdGlvblwiO1xuICAgIHNpZGViYXIuY2xhc3NMaXN0LmFkZChcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwic2lkZWJhci0taGlkZGVuXCIpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oc2lkZWJhcktleSwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uU2lkZWJhckFuaW1hdGlvbkVuZChlKSB7XG4gIC8vIFVzaW5nIGNsYXNzTGlzdC5yZW1vdmUoKSB3aXRoIG11bHRpcGxlIGFyZ3VtZW50cyBmYWlscyBpbiBJRTExLFxuICAvLyBzbyB3ZSdyZSByZW1vdmluZyBjbGFzc2VzIHNlcGFyYXRlbHlcbiAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0taGlkaW5nXCIpO1xuICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIik7XG4gIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgbWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICBpZiAodG9nZ2xlLmdldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIikgPT09IFwiZmFsc2VcIikge1xuICAgIHNpZGViYXIuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiaGlkZGVuXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZChcInNpZGViYXItLWhpZGRlblwiKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNpZGViYXJLZXksIGZhbHNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb3Blbjogb3BlbixcbiAgY2xvc2U6IGNsb3NlXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ1NTIHRyYW5zaXRpb24gY2FsbGJhY2sgcG9seWZpbGwgKGJvcnJvd2VkIGZyb20gTW9kZXJuaXpyKVxuICovXG5leHBvcnRzLndoaWNoVHJhbnNpdGlvbkV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIGxldCB0O1xuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIik7XG4gIGxldCB0cmFuc2l0aW9ucyA9IHtcbiAgICBcInRyYW5zaXRpb25cIjogXCJ0cmFuc2l0aW9uZW5kXCIsXG4gICAgXCJPVHJhbnNpdGlvblwiOiBcIm9UcmFuc2l0aW9uRW5kXCIsXG4gICAgXCJNb3pUcmFuc2l0aW9uXCI6IFwidHJhbnNpdGlvbmVuZFwiLFxuICAgIFwiV2Via2l0VHJhbnNpdGlvblwiOiBcIndlYmtpdFRyYW5zaXRpb25FbmRcIlxuICB9O1xuICBmb3IgKHQgaW4gdHJhbnNpdGlvbnMpIHtcbiAgICBpZiAoZWwuc3R5bGVbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb25zW3RdO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBDU1MgYW5pbWF0aW9uIGNhbGxiYWNrIHBvbHlmaWxsIChib3Jyb3dlZCBmcm9tIE1vZGVybml6cilcbiAqL1xuZXhwb3J0cy53aGljaEFuaW1hdGlvbkV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gIGxldCBhO1xuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIik7XG4gIGxldCBhbmltYXRpb25zID0ge1xuICAgIFwiYW5pbWF0aW9uXCI6IFwiYW5pbWF0aW9uZW5kXCIsXG4gICAgXCJPQW5pbWF0aW9uXCI6IFwib0FuaW1hdGlvbkVuZFwiLFxuICAgIFwiTW96QW5pbWF0aW9uXCI6IFwiYW5pbWF0aW9uZW5kXCIsXG4gICAgXCJXZWJraXRBbmltYXRpb25cIjogXCJ3ZWJraXRBbmltYXRpb25FbmRcIlxuICB9O1xuICBmb3IgKGEgaW4gYW5pbWF0aW9ucykge1xuICAgIGlmIChlbC5zdHlsZVthXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gYW5pbWF0aW9uc1thXTtcbiAgICB9XG4gIH1cbn07XG4iXX0=\n"]}