{"version":3,"sources":["bundle.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","window","prototype","Event","2","throttle","App","sidebar","./sidebar.js","./throttle-animation","3","setSidebarState","matchMedia","matches","maintainSidebarStateOnResize","closeImmediately","openImmediately","toggleSidebar","preventDefault","toggle","getAttribute","open","close","classList","contains","setAttribute","toggleText","textContent","add","removeAttribute","remove","onSidebarAnimationEnd","animationEnd","whichAnimationEvent","getElementById","getElementsByClassName","item","addEventListener","./utils.js","4","type","name","obj","running","func","eventDetail","requestAnimationFrame","dispatchEvent","./custom-event-polyfill.js","5","whichTransitionEvent","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","style","animations","animation","OAnimation","MozAnimation","WebkitAnimation"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,cAKA,WAEE,QAASK,GAAYC,EAAOC,GAC1BA,EAASA,IAAYC,SAAS,EAAOC,YAAY,EAAOC,OAAQC,OAChE,IAAIC,GAAMC,SAASC,YAAY,cAE/B,OADAF,GAAIG,gBAAgBT,EAAOC,EAAOC,QAASD,EAAOE,WAAYF,EAAOG,QAC9DE,EALT,MAAkC,kBAAvBI,QAAOX,cAOlBA,EAAYY,UAAYD,OAAOE,MAAMD,eACrCD,OAAOX,YAAcA,YAGjBc,GAAG,SAASzB,EAAQU,EAAOJ,GACjC,YAEA,IAAIoB,GAAW1B,EAAQ,uBACvB0B,GAAS,SAAU,mBAEnBJ,OAAOK,IAAM,WAEX,GAAIC,GAAU5B,EAAQ,eAKtB,QACE4B,QAASA,QAIVC,eAAe,EAAEC,uBAAuB,IAAIC,GAAG,SAAS/B,EAAQU,EAAOJ,GAC1E,YAoBA,SAAS0B,KAC0B,mBAAtBV,QAAOW,aACZX,OAAOW,WAAW,sBAAsBC,QACrCC,IACHC,IACAD,GAA+B,GAG7BA,IACFE,IACAF,GAA+B,IAWvC,QAASG,GAAc9C,GACrBA,EAAE+C,iBAC2C,UAAzCC,EAAOC,aAAa,iBACtBC,IAEAC,IAIJ,QAASD,KACFd,EAAQgB,UAAUC,SAAS,oBAAuBjB,EAAQgB,UAAUC,SAAS,wBAChFL,EAAOM,aAAa,iBAAiB,GACrCC,EAAWC,YAAc,kBACzBpB,EAAQgB,UAAUK,IAAI,sBACtBrB,EAAQsB,gBAAgB,WAI5B,QAASb,KACPT,EAAQgB,UAAUO,OAAO,mBACzBvB,EAAQgB,UAAUO,OAAO,sBACzBvB,EAAQsB,gBAAgB,UACxBV,EAAOM,aAAa,iBAAiB,GACrCC,EAAWC,YAAc,kBAG3B,QAASL,KACFf,EAAQgB,UAAUC,SAAS,oBAAuBjB,EAAQgB,UAAUC,SAAS,wBAChFL,EAAOM,aAAa,iBAAiB,GACrCC,EAAWC,YAAc,kBACzBpB,EAAQgB,UAAUK,IAAI,oBAI1B,QAASb,KACPR,EAAQgB,UAAUO,OAAO,mBACzBvB,EAAQgB,UAAUO,OAAO,sBACzBvB,EAAQkB,aAAa,SAAU,UAC/BN,EAAOM,aAAa,iBAAiB,GACrCC,EAAWC,YAAc,kBAG3B,QAASI,GAAsB5D,GAG7BoC,EAAQgB,UAAUO,OAAO,mBACzBvB,EAAQgB,UAAUO,OAAO,sBACoB,UAAzCX,EAAOC,aAAa,kBACtBb,EAAQkB,aAAa,SAAU,UA7EnC,GAAIO,GAAerD,EAAQ,cAAcsD,sBAErCd,EAASrB,SAASoC,eAAe,iBACjCR,EAAaP,EAAOgB,uBAAuB,uBAAuBC,KAAK,GACvE7B,EAAUT,SAASoC,eAAe,WAElCpB,GAA+B,CAiBnCH,KACAV,OAAOoC,iBAAiB,kBAAmB1B,GAE3CQ,EAAOkB,iBAAiB,QAASpB,GACjCV,EAAQ8B,iBAAiBL,EAAcD,GAsDvC1C,EAAOJ,SACLoC,KAAMA,EACNC,MAAOA,KAGNgB,aAAa,IAAIC,GAAG,SAAS5D,EAAQU,EAAOJ,GAC/C,YAEAN,GAAQ,6BAMR,IAAI0B,GAAW,SAAkBmC,EAAMC,EAAMC,GAC3CA,EAAMA,GAAOzC,MACb,IAAI0C,IAAU,EACVC,EAAO,SAAcC,GACnBF,IAGJA,GAAU,EACVG,sBAAsB,WACpBJ,EAAIK,cAAc,GAAIzD,aAAYmD,GAAQhD,SAAS,EAAOC,YAAY,EAAOC,OAAQkD,KACrFF,GAAU,KAGdD,GAAIL,iBAAiBG,EAAMI,GAG7BvD,GAAOJ,QAAUoB,IAEd2C,6BAA6B,IAAIC,GAAG,SAAStE,EAAQU,EAAOJ,GAC/D,YAMAA,GAAQiE,qBAAuB,WAC7B,GAAI9E,GAAI,OACJ+E,EAAKrD,SAASsD,cAAc,eAC5BC,GACFC,WAAc,gBACdC,YAAe,iBACfC,cAAiB,gBACjBC,iBAAoB,sBAEtB,KAAKrF,IAAKiF,GACR,GAAoBzD,SAAhBuD,EAAGO,MAAMtF,GACX,MAAOiF,GAAYjF,IAQzBa,EAAQgD,oBAAsB,WAC5B,GAAIvD,GAAI,OACJyE,EAAKrD,SAASsD,cAAc,eAC5BO,GACFC,UAAa,eACbC,WAAc,gBACdC,aAAgB,eAChBC,gBAAmB,qBAErB,KAAKrF,IAAKiF,GACR,GAAoB/D,SAAhBuD,EAAGO,MAAMhF,GACX,MAAOiF,GAAWjF,cAKb","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n// Polyfills \"new CustomEvent()\" for IE11\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n\n(function () {\n  if (typeof window.CustomEvent === \"function\") return false;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent(\"CustomEvent\");\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n})();\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar throttle = require(\"./throttle-animation\");\nthrottle(\"resize\", \"optimizedResize\");\n\nwindow.App = function appInit() {\n\n  var sidebar = require(\"./sidebar.js\");\n\n  /**\n   * Public API\n   */\n  return {\n    sidebar: sidebar\n  };\n}();\n\n},{\"./sidebar.js\":3,\"./throttle-animation\":4}],3:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Accessibility implementation decisions for this widget were based, in part, on the following:\n * - General rules of ARIA use: http://w3c.github.io/aria-in-html/\n * - Using default implicit ARIA semantics is preferable to adding redundant roles, etc.:\n *   https://www.w3.org/TR/html-aria/#sec-strong-native-semantics\n * - Using \"aria-expanded\" for collapsible elements:\n *   https://www.w3.org/WAI/GL/wiki/Using_aria-expanded_to_indicate_the_state_of_a_collapsible_element\n * - I studied the mobile nav menu at https://www.paciellogroup.com/\n */\n\nvar animationEnd = require(\"./utils.js\").whichAnimationEvent();\n\nvar toggle = document.getElementById(\"burger-button\");\nvar toggleText = toggle.getElementsByClassName(\"burger-button__text\").item(0);\nvar sidebar = document.getElementById(\"sidebar\");\n\nvar maintainSidebarStateOnResize = false;\n\nfunction setSidebarState() {\n  if (typeof window.matchMedia !== \"undefined\") {\n    if (window.matchMedia(\"(max-width: 800px)\").matches) {\n      if (!maintainSidebarStateOnResize) {\n        closeImmediately();\n        maintainSidebarStateOnResize = true;\n      }\n    } else {\n      if (maintainSidebarStateOnResize) {\n        openImmediately();\n        maintainSidebarStateOnResize = false;\n      }\n    }\n  }\n}\nsetSidebarState();\nwindow.addEventListener(\"optimizedResize\", setSidebarState);\n\ntoggle.addEventListener(\"click\", toggleSidebar);\nsidebar.addEventListener(animationEnd, onSidebarAnimationEnd);\n\nfunction toggleSidebar(e) {\n  e.preventDefault();\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    open();\n  } else {\n    close();\n  }\n}\n\nfunction open() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", true);\n    toggleText.textContent = \"Hide navigation\";\n    sidebar.classList.add(\"sidebar--revealing\");\n    sidebar.removeAttribute(\"hidden\");\n  }\n}\n\nfunction openImmediately() {\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  sidebar.removeAttribute(\"hidden\");\n  toggle.setAttribute(\"aria-expanded\", true);\n  toggleText.textContent = \"Hide navigation\";\n}\n\nfunction close() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", false);\n    toggleText.textContent = \"Show navigation\";\n    sidebar.classList.add(\"sidebar--hiding\");\n  }\n}\n\nfunction closeImmediately() {\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  sidebar.setAttribute(\"hidden\", \"hidden\");\n  toggle.setAttribute(\"aria-expanded\", false);\n  toggleText.textContent = \"Show navigation\";\n}\n\nfunction onSidebarAnimationEnd(e) {\n  // Using classList.remove() with multiple arguments fails in IE11,\n  // so we're removing classes separately\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    sidebar.setAttribute(\"hidden\", \"hidden\");\n  }\n}\n\nmodule.exports = {\n  open: open,\n  close: close\n};\n\n},{\"./utils.js\":5}],4:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"./custom-event-polyfill.js\");\n\n/**\n * Throttle the window.resize event for better performance\n * See: https://developer.mozilla.org/en-US/docs/Web/Events/resize\n */\nvar throttle = function throttle(type, name, obj) {\n  obj = obj || window;\n  var running = false;\n  var func = function func(eventDetail) {\n    if (running) {\n      return;\n    }\n    running = true;\n    requestAnimationFrame(function onAnimationFrame() {\n      obj.dispatchEvent(new CustomEvent(name, { bubbles: false, cancelable: false, detail: eventDetail }));\n      running = false;\n    });\n  };\n  obj.addEventListener(type, func);\n};\n\nmodule.exports = throttle;\n\n},{\"./custom-event-polyfill.js\":1}],5:[function(require,module,exports){\n\"use strict\";\n\n/**\n * CSS transition callback polyfill (borrowed from Modernizr)\n */\n\nexports.whichTransitionEvent = function () {\n  var t = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var transitions = {\n    \"transition\": \"transitionend\",\n    \"OTransition\": \"oTransitionEnd\",\n    \"MozTransition\": \"transitionend\",\n    \"WebkitTransition\": \"webkitTransitionEnd\"\n  };\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\n/**\n * CSS animation callback polyfill (borrowed from Modernizr)\n */\nexports.whichAnimationEvent = function () {\n  var a = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var animations = {\n    \"animation\": \"animationend\",\n    \"OAnimation\": \"oAnimationEnd\",\n    \"MozAnimation\": \"animationend\",\n    \"WebkitAnimation\": \"webkitAnimationEnd\"\n  };\n  for (a in animations) {\n    if (el.style[a] !== undefined) {\n      return animations[a];\n    }\n  }\n};\n\n},{}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2l0ZS9qYXZhc2NyaXB0cy9jdXN0b20tZXZlbnQtcG9seWZpbGwuanMiLCJzcmMvc2l0ZS9qYXZhc2NyaXB0cy9tYWluLmpzIiwic3JjL3NpdGUvamF2YXNjcmlwdHMvc2lkZWJhci5qcyIsInNyYy9zaXRlL2phdmFzY3JpcHRzL3Rocm90dGxlLWFuaW1hdGlvbi5qcyIsInNyYy9zaXRlL2phdmFzY3JpcHRzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBOztBQUVBLENBQUMsWUFBVztBQUNWLE1BQUksT0FBTyxPQUFPLFdBQWQsS0FBOEIsVUFBbEMsRUFBOEMsT0FBTyxLQUFQO0FBQzlDLFdBQVMsV0FBVCxDQUFxQixLQUFyQixFQUE0QixNQUE1QixFQUFvQztBQUNsQyxhQUFTLFVBQVUsRUFBQyxTQUFTLEtBQVYsRUFBaUIsWUFBWSxLQUE3QixFQUFvQyxRQUFRLFNBQTVDLEVBQW5CO0FBQ0EsUUFBSSxNQUFNLFNBQVMsV0FBVCxDQUFxQixhQUFyQixDQUFWO0FBQ0EsUUFBSSxlQUFKLENBQW9CLEtBQXBCLEVBQTJCLE9BQU8sT0FBbEMsRUFBMkMsT0FBTyxVQUFsRCxFQUE4RCxPQUFPLE1BQXJFO0FBQ0EsV0FBTyxHQUFQO0FBQ0Q7QUFDRCxjQUFZLFNBQVosR0FBd0IsT0FBTyxLQUFQLENBQWEsU0FBckM7QUFDQSxTQUFPLFdBQVAsR0FBcUIsV0FBckI7QUFDRCxDQVZEOzs7QUNIQTs7QUFFQSxJQUFNLFdBQVcsUUFBUSxzQkFBUixDQUFqQjtBQUNBLFNBQVMsUUFBVCxFQUFtQixpQkFBbkI7O0FBRUEsT0FBTyxHQUFQLEdBQWMsU0FBUyxPQUFULEdBQW1COztBQUUvQixNQUFNLFVBQVUsUUFBUSxjQUFSLENBQWhCOztBQUVBOzs7QUFHQSxTQUFPO0FBQ0w7QUFESyxHQUFQO0FBSUQsQ0FYWSxFQUFiOzs7QUNMQTs7QUFFQTs7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RyxLQUFILENBQVMsQ0FBVCxNQUFnQixTQUFwQixFQUErQjtBQUM3QixhQUFPLFlBQVksQ0FBWixDQUFQO0FBQ0Q7QUFDRjtBQUNGLENBZEQ7O0FBZ0JBOzs7QUFHQSxRQUFRLG1CQUFSLEdBQThCLFlBQVc7QUFDdkMsTUFBSSxVQUFKO0FBQ0EsTUFBSSxLQUFLLFNBQVMsYUFBVCxDQUF1QixhQUF2QixDQUFUO0FBQ0EsTUFBSSxhQUFhO0FBQ2YsaUJBQWEsY0FERTtBQUVmLGtCQUFjLGVBRkM7QUFHZixvQkFBZ0IsY0FIRDtBQUlmLHVCQUFtQjtBQUpKLEdBQWpCO0FBTUEsT0FBSyxDQUFMLElBQVUsVUFBVixFQUFzQjtBQUNwQixRQUFJLEdBQUcsS0FBSCxDQUFTLENBQVQsTUFBZ0IsU0FBcEIsRUFBK0I7QUFDN0IsYUFBTyxXQUFXLENBQVgsQ0FBUDtBQUNEO0FBQ0Y7QUFDRixDQWREIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIFBvbHlmaWxscyBcIm5ldyBDdXN0b21FdmVudCgpXCIgZm9yIElFMTFcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9DdXN0b21FdmVudFxuXG4oZnVuY3Rpb24oKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWxzZTtcbiAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7YnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZH07XG4gICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG4gIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG4gIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50O1xufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0aHJvdHRsZSA9IHJlcXVpcmUoXCIuL3Rocm90dGxlLWFuaW1hdGlvblwiKTtcbnRocm90dGxlKFwicmVzaXplXCIsIFwib3B0aW1pemVkUmVzaXplXCIpO1xuXG53aW5kb3cuQXBwID0gKGZ1bmN0aW9uIGFwcEluaXQoKSB7XG5cbiAgY29uc3Qgc2lkZWJhciA9IHJlcXVpcmUoXCIuL3NpZGViYXIuanNcIik7XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBBUElcbiAgICovXG4gIHJldHVybiB7XG4gICAgc2lkZWJhclxuICB9O1xuXG59KSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQWNjZXNzaWJpbGl0eSBpbXBsZW1lbnRhdGlvbiBkZWNpc2lvbnMgZm9yIHRoaXMgd2lkZ2V0IHdlcmUgYmFzZWQsIGluIHBhcnQsIG9uIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlbmVyYWwgcnVsZXMgb2YgQVJJQSB1c2U6IGh0dHA6Ly93M2MuZ2l0aHViLmlvL2FyaWEtaW4taHRtbC9cbiAqIC0gVXNpbmcgZGVmYXVsdCBpbXBsaWNpdCBBUklBIHNlbWFudGljcyBpcyBwcmVmZXJhYmxlIHRvIGFkZGluZyByZWR1bmRhbnQgcm9sZXMsIGV0Yy46XG4gKiAgIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sLWFyaWEvI3NlYy1zdHJvbmctbmF0aXZlLXNlbWFudGljc1xuICogLSBVc2luZyBcImFyaWEtZXhwYW5kZWRcIiBmb3IgY29sbGFwc2libGUgZWxlbWVudHM6XG4gKiAgIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvR0wvd2lraS9Vc2luZ19hcmlhLWV4cGFuZGVkX3RvX2luZGljYXRlX3RoZV9zdGF0ZV9vZl9hX2NvbGxhcHNpYmxlX2VsZW1lbnRcbiAqIC0gSSBzdHVkaWVkIHRoZSBtb2JpbGUgbmF2IG1lbnUgYXQgaHR0cHM6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vXG4gKi9cblxuY29uc3QgYW5pbWF0aW9uRW5kID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIikud2hpY2hBbmltYXRpb25FdmVudCgpO1xuXG5jb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1cmdlci1idXR0b25cIik7XG5jb25zdCB0b2dnbGVUZXh0ID0gdG9nZ2xlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJidXJnZXItYnV0dG9uX190ZXh0XCIpLml0ZW0oMCk7XG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWRlYmFyXCIpO1xuXG5sZXQgbWFpbnRhaW5TaWRlYmFyU3RhdGVPblJlc2l6ZSA9IGZhbHNlO1xuXG5mdW5jdGlvbiBzZXRTaWRlYmFyU3RhdGUoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA4MDBweClcIikubWF0Y2hlcykge1xuICAgICAgaWYgKCFtYWludGFpblNpZGViYXJTdGF0ZU9uUmVzaXplKSB7XG4gICAgICAgIGNsb3NlSW1tZWRpYXRlbHkoKTtcbiAgICAgICAgbWFpbnRhaW5TaWRlYmFyU3RhdGVPblJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYWludGFpblNpZGViYXJTdGF0ZU9uUmVzaXplKSB7XG4gICAgICAgIG9wZW5JbW1lZGlhdGVseSgpO1xuICAgICAgICBtYWludGFpblNpZGViYXJTdGF0ZU9uUmVzaXplID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5zZXRTaWRlYmFyU3RhdGUoKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3B0aW1pemVkUmVzaXplXCIsIHNldFNpZGViYXJTdGF0ZSk7XG5cbnRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlU2lkZWJhcik7XG5zaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uRW5kLCBvblNpZGViYXJBbmltYXRpb25FbmQpO1xuXG5mdW5jdGlvbiB0b2dnbGVTaWRlYmFyKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBpZiAodG9nZ2xlLmdldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIikgPT09IFwiZmFsc2VcIikge1xuICAgIG9wZW4oKTtcbiAgfSBlbHNlIHtcbiAgICBjbG9zZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9wZW4oKSB7XG4gIGlmICghc2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoXCJzaWRlYmFyLS1oaWRpbmdcIikgJiZcbiAgICAgICFzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcInNpZGViYXItLXJldmVhbGluZ1wiKSkge1xuICAgIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIHRydWUpO1xuICAgIHRvZ2dsZVRleHQudGV4dENvbnRlbnQgPSBcIkhpZGUgbmF2aWdhdGlvblwiO1xuICAgIHNpZGViYXIuY2xhc3NMaXN0LmFkZChcInNpZGViYXItLXJldmVhbGluZ1wiKTtcbiAgICBzaWRlYmFyLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuSW1tZWRpYXRlbHkoKSB7XG4gIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICBzaWRlYmFyLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcbiAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdHJ1ZSk7XG4gIHRvZ2dsZVRleHQudGV4dENvbnRlbnQgPSBcIkhpZGUgbmF2aWdhdGlvblwiO1xufVxuXG5mdW5jdGlvbiBjbG9zZSgpIHtcbiAgaWYgKCFzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcInNpZGViYXItLWhpZGluZ1wiKSAmJlxuICAgICAgIXNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpKSB7XG4gICAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgZmFsc2UpO1xuICAgIHRvZ2dsZVRleHQudGV4dENvbnRlbnQgPSBcIlNob3cgbmF2aWdhdGlvblwiO1xuICAgIHNpZGViYXIuY2xhc3NMaXN0LmFkZChcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZUltbWVkaWF0ZWx5KCkge1xuICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLXJldmVhbGluZ1wiKTtcbiAgc2lkZWJhci5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG4gIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIGZhbHNlKTtcbiAgdG9nZ2xlVGV4dC50ZXh0Q29udGVudCA9IFwiU2hvdyBuYXZpZ2F0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIG9uU2lkZWJhckFuaW1hdGlvbkVuZChlKSB7XG4gIC8vIFVzaW5nIGNsYXNzTGlzdC5yZW1vdmUoKSB3aXRoIG11bHRpcGxlIGFyZ3VtZW50cyBmYWlscyBpbiBJRTExLFxuICAvLyBzbyB3ZSdyZSByZW1vdmluZyBjbGFzc2VzIHNlcGFyYXRlbHlcbiAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0taGlkaW5nXCIpO1xuICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIik7XG4gIGlmICh0b2dnbGUuZ2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgc2lkZWJhci5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG9wZW46IG9wZW4sXG4gIGNsb3NlOiBjbG9zZVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9jdXN0b20tZXZlbnQtcG9seWZpbGwuanNcIik7XG5cbi8qKlxuICogVGhyb3R0bGUgdGhlIHdpbmRvdy5yZXNpemUgZXZlbnQgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvcmVzaXplXG4gKi9cbmNvbnN0IHRocm90dGxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgb2JqKSB7XG4gIG9iaiA9IG9iaiB8fCB3aW5kb3c7XG4gIGxldCBydW5uaW5nID0gZmFsc2U7XG4gIGNvbnN0IGZ1bmMgPSBmdW5jdGlvbihldmVudERldGFpbCkge1xuICAgIGlmIChydW5uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiBvbkFuaW1hdGlvbkZyYW1lKCkge1xuICAgICAgb2JqLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogZXZlbnREZXRhaWx9KSk7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG4gIG9iai5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENTUyB0cmFuc2l0aW9uIGNhbGxiYWNrIHBvbHlmaWxsIChib3Jyb3dlZCBmcm9tIE1vZGVybml6cilcbiAqL1xuZXhwb3J0cy53aGljaFRyYW5zaXRpb25FdmVudCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgdDtcbiAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpO1xuICBsZXQgdHJhbnNpdGlvbnMgPSB7XG4gICAgXCJ0cmFuc2l0aW9uXCI6IFwidHJhbnNpdGlvbmVuZFwiLFxuICAgIFwiT1RyYW5zaXRpb25cIjogXCJvVHJhbnNpdGlvbkVuZFwiLFxuICAgIFwiTW96VHJhbnNpdGlvblwiOiBcInRyYW5zaXRpb25lbmRcIixcbiAgICBcIldlYmtpdFRyYW5zaXRpb25cIjogXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJcbiAgfTtcbiAgZm9yICh0IGluIHRyYW5zaXRpb25zKSB7XG4gICAgaWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cmFuc2l0aW9uc1t0XTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ1NTIGFuaW1hdGlvbiBjYWxsYmFjayBwb2x5ZmlsbCAoYm9ycm93ZWQgZnJvbSBNb2Rlcm5penIpXG4gKi9cbmV4cG9ydHMud2hpY2hBbmltYXRpb25FdmVudCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgYTtcbiAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpO1xuICBsZXQgYW5pbWF0aW9ucyA9IHtcbiAgICBcImFuaW1hdGlvblwiOiBcImFuaW1hdGlvbmVuZFwiLFxuICAgIFwiT0FuaW1hdGlvblwiOiBcIm9BbmltYXRpb25FbmRcIixcbiAgICBcIk1vekFuaW1hdGlvblwiOiBcImFuaW1hdGlvbmVuZFwiLFxuICAgIFwiV2Via2l0QW5pbWF0aW9uXCI6IFwid2Via2l0QW5pbWF0aW9uRW5kXCJcbiAgfTtcbiAgZm9yIChhIGluIGFuaW1hdGlvbnMpIHtcbiAgICBpZiAoZWwuc3R5bGVbYV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbnNbYV07XG4gICAgfVxuICB9XG59O1xuIl19\n"]}