{"version":3,"sources":["bundle.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","window","App","sidebar","./sidebar.js","2","sidebarOpen","animationEnd","whichAnimationEvent","toggle","document","getElementById","toggleText","getElementsByClassName","item","main","sidebarKey","open","classList","contains","setAttribute","textContent","add","remove","removeAttribute","sessionStorage","setItem","close","getItem","addEventListener","preventDefault","getAttribute","./utils.js","3","whichTransitionEvent","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","undefined","style","animations","animation","OAnimation","MozAnimation","WebkitAnimation"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n// const throttle = require(\"./throttle-animation\");\n// throttle(\"resize\", \"optimizedResize\");\n\nwindow.App = function appInit() {\n\n  var sidebar = require(\"./sidebar.js\");\n\n  /**\n   * Public API\n   */\n  return {\n    sidebar: sidebar\n  };\n}();\n\n},{\"./sidebar.js\":2}],2:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Accessibility implementation decisions for this widget were based, in part, on the following:\n * - General rules of ARIA use: http://w3c.github.io/aria-in-html/\n * - Using default implicit ARIA semantics is preferable to adding redundant roles, etc.:\n *   https://www.w3.org/TR/html-aria/#sec-strong-native-semantics\n * - Using \"aria-expanded\" for collapsible elements:\n *   https://www.w3.org/WAI/GL/wiki/Using_aria-expanded_to_indicate_the_state_of_a_collapsible_element\n * - I studied the mobile nav menu at https://www.paciellogroup.com/\n */\n\nvar animationEnd = require(\"./utils.js\").whichAnimationEvent();\n\nvar toggle = document.getElementById(\"burger-button\");\nvar toggleText = toggle.getElementsByClassName(\"burger-button__text\").item(0);\nvar sidebar = document.getElementById(\"sidebar\");\nvar main = document.getElementById(\"main-content\");\n\n// let maintainSidebarStateOnResize = false;\nvar sidebarKey = \"flexboxgrid-sidebar-open\";\n\nfunction setSidebarState() {\n  var sidebarOpen = sessionStorage.getItem(sidebarKey);\n\n  if (sidebarOpen && sidebarOpen == \"true\") {\n    openImmediately();\n  }\n}\nsetSidebarState();\n\ntoggle.addEventListener(\"click\", toggleSidebar);\nsidebar.addEventListener(animationEnd, onSidebarAnimationEnd);\n\nfunction toggleSidebar(e) {\n  e.preventDefault();\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    open();\n  } else {\n    close();\n  }\n}\n\nfunction open() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", true);\n    toggleText.textContent = \"Hide navigation\";\n    sidebar.classList.add(\"sidebar--revealing\");\n    main.classList.remove(\"sidebar--hidden\");\n    main.classList.remove(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--revealing\");\n    sidebar.removeAttribute(\"hidden\");\n    sessionStorage.setItem(sidebarKey, true);\n  }\n}\n\nfunction openImmediately() {\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  main.classList.remove(\"sidebar--hidden\");\n  main.classList.remove(\"sidebar--hiding\");\n  main.classList.remove(\"sidebar--revealing\");\n  sidebar.removeAttribute(\"hidden\");\n  toggle.setAttribute(\"aria-expanded\", true);\n  toggleText.textContent = \"Hide navigation\";\n}\n\nfunction close() {\n  if (!sidebar.classList.contains(\"sidebar--hiding\") && !sidebar.classList.contains(\"sidebar--revealing\")) {\n    toggle.setAttribute(\"aria-expanded\", false);\n    toggleText.textContent = \"Show navigation\";\n    sidebar.classList.add(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--hiding\");\n    main.classList.add(\"sidebar--hidden\");\n    sessionStorage.setItem(sidebarKey, false);\n  }\n}\n\nfunction onSidebarAnimationEnd() {\n  // Using classList.remove() with multiple arguments fails in IE11,\n  // so we're removing classes separately\n  sidebar.classList.remove(\"sidebar--hiding\");\n  sidebar.classList.remove(\"sidebar--revealing\");\n  main.classList.remove(\"sidebar--hiding\");\n  main.classList.remove(\"sidebar--revealing\");\n  if (toggle.getAttribute(\"aria-expanded\") === \"false\") {\n    sidebar.setAttribute(\"hidden\", \"hidden\");\n    main.classList.add(\"sidebar--hidden\");\n    sessionStorage.setItem(sidebarKey, false);\n  }\n}\n\nmodule.exports = {\n  open: open,\n  close: close\n};\n\n},{\"./utils.js\":3}],3:[function(require,module,exports){\n\"use strict\";\n\n// CSS transition callback polyfill (borrowed from Modernizr)\n\nexports.whichTransitionEvent = function whichTransitionEvent() {\n  var t = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var transitions = {\n    \"transition\": \"transitionend\",\n    \"OTransition\": \"oTransitionEnd\",\n    \"MozTransition\": \"transitionend\",\n    \"WebkitTransition\": \"webkitTransitionEnd\"\n  };\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\n// CSS animation callback polyfill (borrowed from Modernizr)\nexports.whichAnimationEvent = function whichAnimationEvent() {\n  var a = void 0;\n  var el = document.createElement(\"fakeelement\");\n  var animations = {\n    \"animation\": \"animationend\",\n    \"OAnimation\": \"oAnimationEnd\",\n    \"MozAnimation\": \"animationend\",\n    \"WebkitAnimation\": \"webkitAnimationEnd\"\n  };\n  for (a in animations) {\n    if (el.style[a] !== undefined) {\n      return animations[a];\n    }\n  }\n};\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2l0ZS9qYXZhc2NyaXB0cy9tYWluLmpzIiwic3JjL3NpdGUvamF2YXNjcmlwdHMvc2lkZWJhci5qcyIsInNyYy9zaXRlL2phdmFzY3JpcHRzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUE7QUFDQTs7QUFFQSxPQUFPLEdBQVAsR0FBYyxTQUFTLE9BQVQsR0FBbUI7O0FBRS9CLE1BQU0sVUFBVSxRQUFRLGNBQVIsQ0FBaEI7O0FBRUE7OztBQUdBLFNBQU87QUFDTDtBQURLLEdBQVA7QUFJRCxDQVhZLEVBQWI7OztBQ0xBOztBQUVBOzs7Ozs7Ozs7O0FBVUEsSUFBTSxlQUFlLFFBQVEsWUFBUixFQUFzQixtQkFBdEIsRUFBckI7O0FBRUEsSUFBTSxTQUFTLFNBQVMsY0FBVCxDQUF3QixlQUF4QixDQUFmO0FBQ0EsSUFBTSxhQUFhLE9BQU8sc0JBQVAsQ0FBOEIscUJBQTlCLEVBQXFELElBQXJELENBQTBELENBQTFELENBQW5CO0FBQ0EsSUFBTSxVQUFVLFNBQVMsY0FBVCxDQUF3QixTQUF4QixDQUFoQjtBQUNBLElBQU0sT0FBTyxTQUFTLGNBQVQsQ0FBd0IsY0FBeEIsQ0FBYjs7QUFFQTtBQUNBLElBQUksYUFBYSwwQkFBakI7O0FBRUEsU0FBUyxlQUFULEdBQTJCO0FBQ3pCLE1BQUksY0FBYyxlQUFlLE9BQWYsQ0FBdUIsVUFBdkIsQ0FBbEI7O0FBRUEsTUFBSSxlQUFlLGVBQWUsTUFBbEMsRUFBMEM7QUFDeEM7QUFDRDtBQUNGO0FBQ0Q7O0FBRUEsT0FBTyxnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxhQUFqQztBQUNBLFFBQVEsZ0JBQVIsQ0FBeUIsWUFBekIsRUFBdUMscUJBQXZDOztBQUVBLFNBQVMsYUFBVCxDQUF1QixDQUF2QixFQUEwQjtBQUN4QixJQUFFLGNBQUY7QUFDQSxNQUFJLE9BQU8sWUFBUCxDQUFvQixlQUFwQixN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TUEsT0FBSyxDQUFMLElBQVUsV0FBVixFQUF1QjtBQUNyQixRQUFJLEdBQUcsS0FBSCxDQUFTLENBQVQsTUFBZ0IsU0FBcEIsRUFBK0I7QUFDN0IsYUFBTyxZQUFZLENBQVosQ0FBUDtBQUNEO0FBQ0Y7QUFDRixDQWREOztBQWdCQTtBQUNBLFFBQVEsbUJBQVIsR0FBOEIsU0FBUyxtQkFBVCxHQUErQjtBQUMzRCxNQUFJLFVBQUo7QUFDQSxNQUFJLEtBQUssU0FBUyxhQUFULENBQXVCLGFBQXZCLENBQVQ7QUFDQSxNQUFJLGFBQWE7QUFDZixpQkFBYSxjQURFO0FBRWYsa0JBQWMsZUFGQztBQUdmLG9CQUFnQixjQUhEO0FBSWYsdUJBQW1CO0FBSkosR0FBakI7QUFNQSxPQUFLLENBQUwsSUFBVSxVQUFWLEVBQXNCO0FBQ3BCLFFBQUksR0FBRyxLQUFILENBQVMsQ0FBVCxNQUFnQixTQUFwQixFQUErQjtBQUM3QixhQUFPLFdBQVcsQ0FBWCxDQUFQO0FBQ0Q7QUFDRjtBQUNGLENBZEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gY29uc3QgdGhyb3R0bGUgPSByZXF1aXJlKFwiLi90aHJvdHRsZS1hbmltYXRpb25cIik7XG4vLyB0aHJvdHRsZShcInJlc2l6ZVwiLCBcIm9wdGltaXplZFJlc2l6ZVwiKTtcblxud2luZG93LkFwcCA9IChmdW5jdGlvbiBhcHBJbml0KCkge1xuXG4gIGNvbnN0IHNpZGViYXIgPSByZXF1aXJlKFwiLi9zaWRlYmFyLmpzXCIpO1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgQVBJXG4gICAqL1xuICByZXR1cm4ge1xuICAgIHNpZGViYXJcbiAgfTtcblxufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEFjY2Vzc2liaWxpdHkgaW1wbGVtZW50YXRpb24gZGVjaXNpb25zIGZvciB0aGlzIHdpZGdldCB3ZXJlIGJhc2VkLCBpbiBwYXJ0LCBvbiB0aGUgZm9sbG93aW5nOlxuICogLSBHZW5lcmFsIHJ1bGVzIG9mIEFSSUEgdXNlOiBodHRwOi8vdzNjLmdpdGh1Yi5pby9hcmlhLWluLWh0bWwvXG4gKiAtIFVzaW5nIGRlZmF1bHQgaW1wbGljaXQgQVJJQSBzZW1hbnRpY3MgaXMgcHJlZmVyYWJsZSB0byBhZGRpbmcgcmVkdW5kYW50IHJvbGVzLCBldGMuOlxuICogICBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbC1hcmlhLyNzZWMtc3Ryb25nLW5hdGl2ZS1zZW1hbnRpY3NcbiAqIC0gVXNpbmcgXCJhcmlhLWV4cGFuZGVkXCIgZm9yIGNvbGxhcHNpYmxlIGVsZW1lbnRzOlxuICogICBodHRwczovL3d3dy53My5vcmcvV0FJL0dML3dpa2kvVXNpbmdfYXJpYS1leHBhbmRlZF90b19pbmRpY2F0ZV90aGVfc3RhdGVfb2ZfYV9jb2xsYXBzaWJsZV9lbGVtZW50XG4gKiAtIEkgc3R1ZGllZCB0aGUgbW9iaWxlIG5hdiBtZW51IGF0IGh0dHBzOi8vd3d3LnBhY2llbGxvZ3JvdXAuY29tL1xuICovXG5cbmNvbnN0IGFuaW1hdGlvbkVuZCA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpLndoaWNoQW5pbWF0aW9uRXZlbnQoKTtcblxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXJnZXItYnV0dG9uXCIpO1xuY29uc3QgdG9nZ2xlVGV4dCA9IHRvZ2dsZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYnVyZ2VyLWJ1dHRvbl9fdGV4dFwiKS5pdGVtKDApO1xuY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lkZWJhclwiKTtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW4tY29udGVudFwiKTtcblxuLy8gbGV0IG1haW50YWluU2lkZWJhclN0YXRlT25SZXNpemUgPSBmYWxzZTtcbmxldCBzaWRlYmFyS2V5ID0gXCJmbGV4Ym94Z3JpZC1zaWRlYmFyLW9wZW5cIjtcblxuZnVuY3Rpb24gc2V0U2lkZWJhclN0YXRlKCkge1xuICB2YXIgc2lkZWJhck9wZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHNpZGViYXJLZXkpO1xuXG4gIGlmIChzaWRlYmFyT3BlbiAmJiBzaWRlYmFyT3BlbiA9PSBcInRydWVcIikge1xuICAgIG9wZW5JbW1lZGlhdGVseSgpO1xuICB9XG59XG5zZXRTaWRlYmFyU3RhdGUoKTtcblxudG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVTaWRlYmFyKTtcbnNpZGViYXIuYWRkRXZlbnRMaXN0ZW5lcihhbmltYXRpb25FbmQsIG9uU2lkZWJhckFuaW1hdGlvbkVuZCk7XG5cbmZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGlmICh0b2dnbGUuZ2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgb3BlbigpO1xuICB9IGVsc2Uge1xuICAgIGNsb3NlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb3BlbigpIHtcbiAgaWYgKCFzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcInNpZGViYXItLWhpZGluZ1wiKSAmJlxuICAgICAgIXNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpKSB7XG4gICAgdG9nZ2xlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdHJ1ZSk7XG4gICAgdG9nZ2xlVGV4dC50ZXh0Q29udGVudCA9IFwiSGlkZSBuYXZpZ2F0aW9uXCI7XG4gICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGRlblwiKTtcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICAgIHNpZGViYXIucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oc2lkZWJhcktleSwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb3BlbkltbWVkaWF0ZWx5KCkge1xuICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLXJldmVhbGluZ1wiKTtcbiAgbWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0taGlkZGVuXCIpO1xuICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLXJldmVhbGluZ1wiKTtcbiAgc2lkZWJhci5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG4gIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIHRydWUpO1xuICB0b2dnbGVUZXh0LnRleHRDb250ZW50ID0gXCJIaWRlIG5hdmlnYXRpb25cIjtcbn1cblxuZnVuY3Rpb24gY2xvc2UoKSB7XG4gIGlmICghc2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoXCJzaWRlYmFyLS1oaWRpbmdcIikgJiZcbiAgICAgICFzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucyhcInNpZGViYXItLXJldmVhbGluZ1wiKSkge1xuICAgIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIGZhbHNlKTtcbiAgICB0b2dnbGVUZXh0LnRleHRDb250ZW50ID0gXCJTaG93IG5hdmlnYXRpb25cIjtcbiAgICBzaWRlYmFyLmNsYXNzTGlzdC5hZGQoXCJzaWRlYmFyLS1oaWRpbmdcIik7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwic2lkZWJhci0taGlkaW5nXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZChcInNpZGViYXItLWhpZGRlblwiKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNpZGViYXJLZXksIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblNpZGViYXJBbmltYXRpb25FbmQoKSB7XG4gIC8vIFVzaW5nIGNsYXNzTGlzdC5yZW1vdmUoKSB3aXRoIG11bHRpcGxlIGFyZ3VtZW50cyBmYWlscyBpbiBJRTExLFxuICAvLyBzbyB3ZSdyZSByZW1vdmluZyBjbGFzc2VzIHNlcGFyYXRlbHlcbiAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0taGlkaW5nXCIpO1xuICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlYmFyLS1yZXZlYWxpbmdcIik7XG4gIG1haW4uY2xhc3NMaXN0LnJlbW92ZShcInNpZGViYXItLWhpZGluZ1wiKTtcbiAgbWFpbi5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWJhci0tcmV2ZWFsaW5nXCIpO1xuICBpZiAodG9nZ2xlLmdldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIikgPT09IFwiZmFsc2VcIikge1xuICAgIHNpZGViYXIuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiaGlkZGVuXCIpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZChcInNpZGViYXItLWhpZGRlblwiKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNpZGViYXJLZXksIGZhbHNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb3Blbjogb3BlbixcbiAgY2xvc2U6IGNsb3NlXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENTUyB0cmFuc2l0aW9uIGNhbGxiYWNrIHBvbHlmaWxsIChib3Jyb3dlZCBmcm9tIE1vZGVybml6cilcbmV4cG9ydHMud2hpY2hUcmFuc2l0aW9uRXZlbnQgPSBmdW5jdGlvbiB3aGljaFRyYW5zaXRpb25FdmVudCgpIHtcbiAgbGV0IHQ7XG4gIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKTtcbiAgbGV0IHRyYW5zaXRpb25zID0ge1xuICAgIFwidHJhbnNpdGlvblwiOiBcInRyYW5zaXRpb25lbmRcIixcbiAgICBcIk9UcmFuc2l0aW9uXCI6IFwib1RyYW5zaXRpb25FbmRcIixcbiAgICBcIk1velRyYW5zaXRpb25cIjogXCJ0cmFuc2l0aW9uZW5kXCIsXG4gICAgXCJXZWJraXRUcmFuc2l0aW9uXCI6IFwid2Via2l0VHJhbnNpdGlvbkVuZFwiXG4gIH07XG4gIGZvciAodCBpbiB0cmFuc2l0aW9ucykge1xuICAgIGlmIChlbC5zdHlsZVt0XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJhbnNpdGlvbnNbdF07XG4gICAgfVxuICB9XG59O1xuXG4vLyBDU1MgYW5pbWF0aW9uIGNhbGxiYWNrIHBvbHlmaWxsIChib3Jyb3dlZCBmcm9tIE1vZGVybml6cilcbmV4cG9ydHMud2hpY2hBbmltYXRpb25FdmVudCA9IGZ1bmN0aW9uIHdoaWNoQW5pbWF0aW9uRXZlbnQoKSB7XG4gIGxldCBhO1xuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIik7XG4gIGxldCBhbmltYXRpb25zID0ge1xuICAgIFwiYW5pbWF0aW9uXCI6IFwiYW5pbWF0aW9uZW5kXCIsXG4gICAgXCJPQW5pbWF0aW9uXCI6IFwib0FuaW1hdGlvbkVuZFwiLFxuICAgIFwiTW96QW5pbWF0aW9uXCI6IFwiYW5pbWF0aW9uZW5kXCIsXG4gICAgXCJXZWJraXRBbmltYXRpb25cIjogXCJ3ZWJraXRBbmltYXRpb25FbmRcIlxuICB9O1xuICBmb3IgKGEgaW4gYW5pbWF0aW9ucykge1xuICAgIGlmIChlbC5zdHlsZVthXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gYW5pbWF0aW9uc1thXTtcbiAgICB9XG4gIH1cbn07XG4iXX0=\n"]}